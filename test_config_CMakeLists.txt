cmake_minimum_required(VERSION 3.10)
project(ConfigParserTest C)

# 设置C标准
set(CMAKE_C_STANDARD 99)
set(CMAKE_C_STANDARD_REQUIRED ON)

# 设置编译选项
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Wextra")

# 源文件
set(TEST_SRCS 
    test_config_parser.c
    src/modules/config_module.c
)

# 创建测试可执行文件
add_executable(test_config_parser ${TEST_SRCS})

# 设置包含目录
target_include_directories(test_config_parser PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}
    ${CMAKE_CURRENT_SOURCE_DIR}/src
    ${CMAKE_CURRENT_SOURCE_DIR}/src/modules
)

# 链接库
target_link_libraries(test_config_parser
    uv
    pthread
)

# 显示配置信息
message(STATUS "测试程序构建配置完成")
