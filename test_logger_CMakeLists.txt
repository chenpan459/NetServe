cmake_minimum_required(VERSION 3.10)
project(LoggerTest C)

# 设置C标准
set(CMAKE_C_STANDARD 99)
set(CMAKE_C_STANDARD_REQUIRED ON)

# 设置编译选项
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Wextra")

# 源文件
set(TEST_SRCS 
    test/test_logger_multithread.c
    log/logger_module.c
)

# 创建测试可执行文件
add_executable(test_logger_multithread ${TEST_SRCS})

# 设置包含目录
target_include_directories(test_logger_multithread PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}
    ${CMAKE_CURRENT_SOURCE_DIR}/src
    ${CMAKE_CURRENT_SOURCE_DIR}/src/modules
    ${CMAKE_CURRENT_SOURCE_DIR}/log
)

# 链接库
target_link_libraries(test_logger_multithread
    uv
    pthread
)

# 显示配置信息
message(STATUS "日志测试程序构建配置完成")
